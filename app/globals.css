@import "tailwindcss";

/* Minimal global styles for a clean 3D canvas starter */
html, body {
  /* Use dynamic viewport height on mobile to avoid iOS 100vh issues */
  height: 100dvh;
  /* Prevent page scrolling/overscroll bounce during gameplay */
  overflow: hidden;
  overscroll-behavior: none;
}


body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  /* Prevent scrolling and hide the default cursor for game immersion */
  overflow: hidden; 
  /*
    NOTE: Do not hide cursor globally so the editor UI remains usable.
    Gameplay components that need to hide the cursor should do so locally
    (e.g. via a wrapper element with `cursor: none;`).
  */
  font-family: 'Courier New', Courier, monospace; /* Fallback for the mono look */
}

canvas {
  display: block;
}

/* Position the drei <Stats> panel at the top-right */
.stats-top-right {
  position: absolute !important;
  top: 0 !important;
  right: 0 !important;
  left: auto !important;
  pointer-events: none !important;
  z-index: 50 !important;
}

/* Improve iOS Safari touch reliability for control overlays */
.mobile-controls,
.mobile-controls * {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
  touch-action: none;
}


/* 1. Film Grain Noise Animation 
   Used for the moving texture in the background */
@keyframes noise {
  0% { transform: translate(0, 0); }
  10% { transform: translate(-5%, -5%); }
  20% { transform: translate(-10%, 5%); }
  30% { transform: translate(5%, -10%); }
  40% { transform: translate(-5%, 15%); }
  50% { transform: translate(-10%, 5%); }
  60% { transform: translate(15%, 0); }
  70% { transform: translate(0, 10%); }
  80% { transform: translate(-15%, 0); }
  90% { transform: translate(10%, 5%); }
  100% { transform: translate(5%, 0); }
}


.animate-noise {
  animation: noise 0.2s steps(3) infinite;
}

/* 2. Chromatic Aberration (Glitch)
   Creates the red/blue split effect on text */
.glitch-text {
  position: relative;
  text-shadow: 
    2px 0 rgba(255, 0, 0, 0.5), 
    -2px 0 rgba(0, 0, 255, 0.5);
}

/* 3. Heavy Vignette
   Creates the tunnel vision effect */
.bg-radial-vignette {
  background: radial-gradient(circle, transparent 40%, black 120%);
}

/* 4. CRT Scanlines
   Alternating dark lines to simulate an old screen */
.bg-scanlines {
  background: linear-gradient(
    rgba(18, 16, 16, 0) 50%,
    rgba(0, 0, 0, 0.25) 50%
  ),
  linear-gradient(
    90deg,
    rgba(255, 0, 0, 0.06),
    rgba(0, 255, 0, 0.02),
    rgba(0, 0, 255, 0.06)
  );
  background-size: 100% 2px, 3px 100%;
}